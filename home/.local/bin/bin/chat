#!/bin/bash

# Funci칩n para hacer la consulta a chatgpt.es
function consulta_chatgpt {
    local pregunta="$1"
    local respuesta

    # Intentar hacer la consulta directamente
    respuesta=$(curl -s -X POST "https://chatgpt.es/api/consulta" -d "{\"pregunta\":\"$pregunta\"}" -H "Content-Type: application/json")

    # Comprobar si la respuesta es v치lida
    if [[ $respuesta == "error" ]]; then
        echo "No se pudo realizar la consulta directamente. Usando proxy..."
        respuesta=$(curl -s "https://www.croxyproxy.com/_es/?url=https://chatgpt.es&query=$pregunta")
    fi

    echo "Respuesta: $respuesta"
}

# Comprobar si se pas칩 una pregunta como argumento
if [ $# -eq 0 ]; then
    echo "Por favor, proporciona una pregunta como argumento."
    exit 1
fi

# Llamar a la funci칩n con la pregunta proporcionada
consulta_chatgpt "$1"
